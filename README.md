# üì¢ Telegram-–±–æ—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –∞—É–¥–∏–æ

–ë–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—É–¥–∏–æ—Å–æ–æ–±—â–µ–Ω–∏—è, —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç –∏—Ö —Å –ø–æ–º–æ—â—å—é SaluteSpeech API –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ GigaChat API.  
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–µ–Ω–æ–≥—Ä–∞–º–º —Å–æ–≤–µ—â–∞–Ω–∏–π, –∏–Ω—Ç–µ—Ä–≤—å—é, –∑–∞–º–µ—Ç–æ–∫ –∏ –¥—Ä—É–≥–∏—Ö –≥–æ–ª–æ—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** ‚Äî —á–µ—Ä–µ–∑ Airtable (ID –∏ –§–ò–û —Å–≤–µ—Ä—è—é—Ç—Å—è —Å —Ç–∞–±–ª–∏—Ü–µ–π).
- üéôÔ∏è **–ü—Ä–∏—ë–º –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è `voice`, `audio`, `document`; —Ñ–æ—Ä–º–∞—Ç—ã `.mp3`, `.wav`, `.ogg`, `.flac`, `.m4a`, `.mp4`.
- üõ† **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è** ‚Äî –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç —Ç—Ä–µ–±—É–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `.m4a`, `.mp4`), –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ `.mp3` (16 –∫–ì—Ü, –º–æ–Ω–æ) —á–µ—Ä–µ–∑ `ffmpeg`.
- ‚úÇÔ∏è **–†–∞–∑–±–∏–µ–Ω–∏–µ –∞—É–¥–∏–æ** ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –æ—Ç—Ä—ã–≤–∫–∏ –ø–æ 58 —Å–µ–∫—É–Ω–¥.
- üîä **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏** ‚Äî –∫–∞–∂–¥—ã–π –æ—Ç—Ä—ã–≤–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ `SaluteSpeech API` –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏. –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–π–ª–∞–º–∏ –ª—é–±–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
- üìÑ **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π**:
  - `.pdf` ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
  - `.txt` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –≤–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
- üß† **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ GigaChat API**:
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **—Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –æ—Ç—á—ë—Ç –ø–æ —Å–æ–≤–µ—â–∞–Ω–∏—é).
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞**.
  - –ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –≤–ª–æ–∂–µ–Ω–∏–µ–º `.txt` –≤ GigaChat –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
- üì§ **–í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞** ‚Äî –æ—Ç–≤–µ—Ç GigaChat —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Telegram.
- üìä **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—è, —Ç–æ–∫–µ–Ω—ã, –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–≤ –∫–æ–Ω—Å–æ–ª—å –∏ Airtable).
- üßæ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –∏ –¥–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.


---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/kazinaklz/tg_transcriber_bot_v1-3
cd tg_transcriber_bot_v1-3
python3 -m venv venv
.\venv\Scripts\Activate.ps1
pip install -r requirements.txt
python bot.py

Ctrl + C   
```
---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É–∫–∞–∑–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```env
# === Telegram Bot ===
TG_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather

# === GigaChat API ===
CLIENT_ID=–≤–∞—à_client_id
SECRET=–≤–∞—à_client_secret

# === SaluteSpeech API ===
SALUTE_AUTHORIZATION_KEY=–≤–∞—à_–∫–ª—é—á
SALUTE_CLIENT_ID=–≤–∞—à_salute_client_id
SALUTE_SECRET=–≤–∞—à_salute_secret

# === Airtable (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π) ===
AIRTABLE_API_TOKEN=—Ç–æ–∫–µ–Ω_–¥–æ—Å—Ç—É–ø–∞
AIRTABLE_BASE_ID=–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä_–±–∞–∑—ã
AIRTABLE_TABLE_MAIN=–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ç–∞–±–ª–∏—Ü—ã_–æ—Å–Ω–æ–≤–Ω–æ–π
AIRTABLE_TABLE_LOG=–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ç–∞–±–ª–∏—Ü—ã_–ª–æ–≥–æ–≤

# === GIGACHAT MODEL ===
GIGACHAT_MODEL=GigaChat-Max

# === –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è ===
LOG_LEVEL=INFO

```
---

## üõ† –°—Ç–µ–∫

- **Python 3.10+**
- **aiogram 3.x** ‚Äî –¥–ª—è Telegram-–±–æ—Ç–∞ (bot.py).
- **aiohttp** ‚Äî –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ (auth.py, gigachat_api.py, salute_speech_api.py).
- **python-dotenv** ‚Äî –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (load_dotenv()).
- **pydub + ffmpeg** ‚Äî –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ –∏ —Ä–∞–∑–±–∏–µ–Ω–∏—è –Ω–∞ –æ—Ç—Ä—ã–≤–∫–∏ (audio_utils.py) –∏ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∞—É–¥–∏–æ –≤ .mp3 (—á–µ—Ä–µ–∑ subprocess).
- **reportlab** ‚Äî –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ .pdf —Ñ–∞–π–ª–æ–≤ (audio_utils.py).
- **GigaChat API (Sber)** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ aiohttp (gigachat_api.py).
- **SaluteSpeech API (Sber)** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ aiohttp (salute_speech_api.py).
- **Airtable API** ‚Äî –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (auth.py).

---